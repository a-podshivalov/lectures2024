# Некоторые комментарии к лекциям

Какого-то единого учебника, где рассматривались бы все вопросы курса, нет, но по многим вопросам могу отослать к следующим источникам:

https://www.youtube.com/playlist?list=PLJEYfuHbcEIApuZR4L5tRiBCwTZCYeTNY - прочитанный Олегом Артамоновым в 2018 году курс в МИРЭА, во многом повторяющийся и здесь.

**Elecia White, Making Embedded Systems** - учебник по разработке встраиваемых систем, не скатывающийся в "Очередное руководство по STM32" и одновременно достаточно простой для начинающих.

**Jack Ganssle, Art of Designing Embedded Systems** - сборник авторских статей, рассматривающих самые разные вопросы проектирования устройств на микроконтроллерах - в диапазоне от правильной организации труда до нюансов программирования в системах, требующих "реального времени".

**Daniele Lacamera, Embedded Systems Architecture** / **Даниэле Лакамера, Архитектура встраиваемых систем** - хорошая книга по "низкоуровнему" программированию для STM32, с использованием только CMSIS. Довольно подробно разбирается и необходимый инструментарий - компилятор, средства отладки и тому подобное.

**P. Horowitz, W. Hill, The Art of Electronics** / **П. Хоровиц, У. Хилл, Искусство схемотехники** (разные издания) - довольно фундаментальное руководство по проектированию электроники, здесь я буду ссылаться лишь на отдельные главы, в основном посвященные цифровой электронике. Нумерация глав соответствует 3 английскому изданию (описание проблем русских переводов есть здесь: https://habr.com/ru/articles/553144/, неофициальный перевод на русский 3 английского издания - здесь: http://the-epic-file.com/text/bookz/aoe_3/aoe3_contents.htm).

**E. A. Lee, S. A. Seshia, Introduction to Embedded Systems: A Cyber-Physical Systems Approach** - немного нестандартный учебник по встраиваемым системам, начинающийся с тяжелой математики и довольно сильно ориентированный на формальное моделирование систем.

**Chris Hobbs, Embedded Software Development for Safety-Critical Systems** - книга посвящена разработке безопасных встраиваемых систем, и охватывает самые разнообразные темы - от структуры соответствующих стандартов до методов верификации программ.

**Алексей Усанов, Реверс-инжиниринг встраиваемых систем** - с одной стороны, книга довольно поверхностна, а с другой - это очень большой список инструментов, с которыми к вашей системе будет подходить "недоброжелатель" - от стандартных отладочных средств до всевозможной "экзотики".

**Документация по RIOT OS** (https://doc.riot-os.org/) - в курсе мы будем использовать именно эту операционную систему.

Некоторые из последующих ссылок (в основном на сайты американских фирм-производителей микроэлектронной техники) требуют использования VPN или других средств обхода санкций.

## Лекция 1

Лекция вводная, поэтому очень многие из рассматриваемых вопросов будут повторяться и дальше. Рекомендую ознакомиться с **RFC 7228**, который рассматривает не только ограничения по объему памяти для устройств Интернета вещей, но также касается вопросов энергопотребления и организации сетей таких устройств.

Определение основных функций операционной системы взято из **Современных операционных систем** Таненбаума.

## Лекция 2

Хорошее дополнение к части про GPIO - 10 и 12 главы **The Art of Electronics**, где описываются основные типы цифровой логики и взаимодействие между ними (в том числе интерфейсы между логическими микросхемами разных типов или с разными логическими уровнями). Кроме того, в самой лекции был упомянут документ Philips Semiconductor **AN97055**, в котором описывается несложный преобразователь логических уровней. Довольно много схем преобразователей логических уровней упоминается в документе Microchip **3V Tips ‘n Tricks**.

Множество методов борьбы с "дребезгом" контактов приводит Jack Ganssle: http://www.ganssle.com/item/debouncing-switches-contacts-code.htm . Примерно то же самое приведено в 5 главе его книги **Art of Designing Embedded Systems**.

В немного более "низкоуровневом" виде материалу лекции примерно соответствует глава 4 в "Making Embedded Systems" (особенно рекомендую посмотреть там раздел про аппаратные таймеры, сильно сокращенный в нашем курсе) или 6 - в "Архитектуре встраиваемых систем".

## Дополнительная литература

Основные, как это принято называть, prerequisites курса - знание языка Си и некоторое понимание работы компьютера на низком уровне. Желательно уметь работать в Unix-подобной среде, не лишним будет знание электроники на уровне "как подключить светодиод". Из литературы по этим вещам могу посоветовать следующее (читать все от корки до корки не обязательно - в любом случае это несколько примерно семестровых курсов, так что предполагаю, что значительных провалов ни в одной из областей нет):
 
## Язык программирования Си
 
**B. Kernighan, D. Ritchie, The C programming language** / **Б. Керниган, Д. Ритчи, Язык программирования Си** (разные издания) - классическое руководство по языку, в особых рекомендациях не нуждается, единственное предупреждение - в интернете иногда встречаются издания, описывающие ранний стандарт языка - это первое английское, 1978 года, и первое русское, 1985 года, издание. Часто упоминается, как K&R.
 
**Peter van der Linden, Expert C Programming: Deep C Secrets, Prentice Hall, 1994** - автор разрабатывал компилятор Си в Sun Microsystems, и в своей книге описывает некоторые неочевидные стороны языка; обычно рекомендуют, как "вторую книгу по Си" - предполагается, что читатель знает язык в общих чертах (прочитав K&R), но не сталкивался или не обращал внимания на некоторые неочевидные вещи.
 
**Ben Klemens, 21st Century C, O'Reilly, 2015** - обзор нововведений Си со времен описанного в K&R стандарта ANSI C 1989 года. Желательно прочитать, но некоторым советам оттуда следовать не стоит, они явно сомнительные. С другой стороны, знать о том, что Си с 1989 года во многом поменялся - полезно.
 
## Архитектура компьютеров, операционные системы и тому подобное
 
**Andrew S. Tanenbaum, Structured Computer Organization (6th Edition), Pearson, 2012** / **Эндрю Таненбаум, Архитектура компьютера, Питер, 2013** - классический учебник Таненбаума, первое издание вышло в 1976 году, в 1979 переведено на русский и издано под названием "Многоуровневая архитектура ЭВМ" издательством "Мир". С тех пор профессор Таненбаум регулярно актуализирует материал - например, если в первом издании "показательными" примерами были IBM/360, PDP-11 и CDC-6000, то в каждом новом издании этот список меняется, наиболее полезным для нашего курса будет 6 издание, где в качестве таковых рассматриваются Intel Core i7, OMAP 4330 и AtMega168. Книга довольно толстая (и с каждым новым изданием все увеличивается и увеличивается), но если говорить о 6 издании - то интерес в контексте нашего курса представляют главы 1, частично 2 и 4, 5 и частично 7.
 
**Andrew S. Tanenbaum, Modern Operating Systems** / **Эндрю Таненбаум, Современные операционные системы** (разные издания) - опять же, довольно классический учебник; возможно, некоторым покажется более интересной "Разработка и реализация операционных систем" того же автора - но тут опять же, интерес представляет не книга целиком, а некоторые главы, посвященные межпроцессному взаимодействию и смежным вопросам (совместное использование ресурсов, взаимоблокировки и тому подобное).
 
## Микроконтроллеры и встраиваемые системы

Это не столько prerequisites, сколько то, что надо использовать, если что-то кажется непонятным (помимо даташитов для используемых МК).
 
**Jonathan W. Valvano, Embedded systems** (разные издания) - трехтомник с курсом по программированию встраиваемых систем на микроконтроллерах с архитектурой ARM "от азов"; используется серия MSP432 фирмы Texas Instruments (а вы ожидали что-то другого от курса в Университете Техаса?..). Книги в некоторой степени повторяют друг друга, так что реальный объем - где-то полтора тома. Особой специфики у MSP432 в сравнении с другими микроконтроллерами нет, так что можно использовать в качестве учебника и при работе с другими вариантами ARM Cortex-M.
 
**Tammy Noergaard, Embedded Systems Architecture: A Comprehensive Guide for Engineers and Programmers, Elsevier, 2005** - несколько более полная и "фундаментальная" книга по проектированию встраиваемых систем, начинающаяся от самых "азов". Рассматриваются не только микроконтроллеры, а еще и встраиваемые системы с процессорами "общего назначения", поэтому в этом курсе где-то треть книги можно безболезненно пропустить. Основное достоинство - четкость определений, характерная для учебника.
 
**Joseph Yiu, The Definitive Guide to ARM Cortex-M3 and Cortex-M4 Processors, Elsevier, 2014** - "почти официальное" (написанное сотрудником ARM) руководство по архитектуре ARM Cortex-M.
 
**Carmine Noviello, Mastering STM32** - пример "традиционного" руководства по STM32, начинающегося с длинного и сложного описания архитектуры процессора, с активным использованием "фирменного" Hardware Abstraction Layer и CubeMX; только в самом конце наконец-то появляется FreeRTOS, и то на уровне "добавьте такие-то файлики в проект или поставьте галочку в CubeMX". Можно использовать, как пересказ «даташита» понятным языком.

## Разное

Эти книги и статьи в основном могут понадобиться тем, кто не очень уверенно чувствует себя при работе с Unix-подобным окружением.

**А. В. Столяров, Программирование: введение в профессию**(http://www.stolyarov.info/books/programming_intro) - "краудсорсинговый" многотомник по классическим "программистским" курсам, читающимся на факультете ВМК МГУ. Автор иногда впадает в некий экстремизм, например, объявляя единственно правильным способом работы с компьютером использование Unix-образной командной строки, а программистов под Windows считает низшей кастой. С другой стороны, это одна из немногих известных мне книг, где "под одной обложкой" были бы собраны работа в командной строке Unix, программирование на Си, работа с системами контроля версий и так далее.
 
https://blog.regolit.com/2014/02/17/a-bit-of-git - краткое введение в систему контроля версий Git.
 
**Scott Chacon, Pro Git** (https://git-scm.com/book/en/v2): как подсказывает название, это книга *про Git* - если предыдущей статьи окажется недостаточно.
 
**Vincent Driessen: A successful Git branching model** (https://nvie.com/posts/a-successful-git-branching-model) - описание способа использования "веток" в Git и подобных системах контроля версий.